title: "My Dashboard"
theme: "dark"

groups:
  - name: "Infrastructure"
    tiles:
      - name: "Nextcloud"
        icon: "icons/nextcloud.png"
        link: "https://cloud.example.com"
        slots:
          - name: "availability"
            check:
              type: "http"
              target: "https://cloud.example.com/status.php"
              timeout: "10s"
            rules:
              - match:
                  code: 200
                status: { id: "ok", label: "‚úÖ" }
              - match:
                  output: "maintenance.*true"
                status: { id: "warn", label: "‚ö†Ô∏è" }
              - match: {}
                status: { id: "unknown", label: "‚ùì" }

      - name: "Grafana"
        icon: "https://grafana.example.com/icon.png"
        link: "https://grafana.example.com"
        slots:
          - name: "status"
            check:
              type: "http"
              target: "https://grafana.example.com/api/health"
            rules:
              - match:
                  code: 200
                  output: "ok"
                status: { id: "ok", label: "‚úÖ" }
              - match: {}
                status: { id: "down", label: "üî¥" }

  - name: "Services"
    tiles:
      - name: "Backup"
        icon: "icons/backup.png"
        generate:
          command: "gen-backup-report --output /tmp/backup.png"
          timeout: "60s"
        slots:
          - name: "last-run"
            default_status: { id: "error", label: "‚ö°" }
            check:
              type: "command"
              target: "restic snapshots --latest 1 --json"
              timeout: "15s"
            rules:
              - match:
                  output: "2026-02-2[7-8]"
                status: { id: "fresh", label: "üü¢ Today" }
              - match:
                  code: 0
                status: { id: "stale", label: "üü° Old" }
